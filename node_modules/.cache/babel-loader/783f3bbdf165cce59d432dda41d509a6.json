{"ast":null,"code":"/*\n    Modifications copyright 2018 The caver-js Authors\n    This file is part of the web3.js library.\n\n    The web3.js library is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    The web3.js library is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License\n    along with the web3.js. If not, see <http://www.gnu.org/licenses/>.\n\n    This file is derived from web3.js/packages/web3/src/index.js (2019/06/12).\n    Modified and improved for the caver-js development.\n*/\n\n/**\n * @file index.js\n * @authors:\n *   Fabian Vogelsteller <fabian@ethereum.org>\n *   Gav Wood <gav@parity.io>\n *   Jeffrey Wilcke <jeffrey.wilcke@ethereum.org>\n *   Marek Kotewicz <marek@parity.io>\n *   Marian Oancea <marian@ethereum.org>\n * @date 2017\n */\nglobal.rootRequire = name => require(`${__dirname}/packages/${name}/src/index.js`);\n\nconst {\n  packageInit,\n  providers\n} = require('./packages/caver-core');\n\nconst Klay = require('./packages/caver-klay');\n\nconst Account = require('./packages/caver-account');\n\nconst KeyringContainer = require('./packages/caver-wallet');\n\nconst Keyring = require('./packages/caver-wallet/src/keyring/keyringFactory');\n\nconst Transaction = require('./packages/caver-transaction');\n\nconst RPC = require('./packages/caver-rpc');\n\nconst abi = require('./packages/caver-abi');\n\nconst BaseContract = require('./packages/caver-contract');\n\nconst KCT = require('./packages/caver-kct');\n\nconst core = require('./packages/caver-core');\n\nconst Method = require('./packages/caver-core-method');\n\nconst middleware = require('./packages/caver-middleware');\n\nconst utils = require('./packages/caver-utils');\n\nconst formatters = require('./packages/caver-core-helpers').formatters;\n\nconst helpers = require('./packages/caver-core-helpers');\n\nconst IPFS = require('./packages/caver-ipfs');\n\nconst {\n  version\n} = require('./package.json');\n\nfunction Caver(provider, net) {\n  const _this = this;\n\n  this.use = middleware.registerMiddleware.bind(middleware); // sets _requestmanager etc\n\n  packageInit(this, [provider, net]);\n  this.version = version;\n  this.utils = utils;\n  this.abi = abi;\n  this.formatters = formatters;\n  this.helpers = helpers;\n  this.Method = Method;\n  this.account = Account;\n  this.wallet = new KeyringContainer();\n  this.wallet.keyring = Keyring;\n  this.transaction = Transaction; // ex) call `caver.klay.property` || `caver.klay.method(...)`\n\n  this.kct = new KCT(this);\n  this.klay = new Klay(this);\n  this.rpc = new RPC(this);\n  this.middleware = middleware;\n  this.ipfs = new IPFS(); // overwrite package setProvider\n\n  const setProvider = this.setProvider;\n\n  this.setProvider = (p, n) => {\n    setProvider.apply(this, [p, n]);\n\n    _this.klay.setRequestManager(_this._requestManager);\n\n    _this.rpc.setRequestManager(_this._requestManager);\n\n    _this.kct.setRequestManager(_this._requestManager);\n\n    _this.contract._requestManager = _this._requestManager;\n    _this.contract.currentProvider = _this._provider;\n    return true;\n  };\n\n  const self = this;\n\n  const Contract = function Contract() {\n    BaseContract.apply(this, arguments); // when caver.setProvider is called, call 'packageInit' all contract instances instantiated via this Caver instances.\n    // This will update the currentProvider for the contract instances\n\n    const _this = this; // eslint-disable-line no-shadow\n\n\n    const setProvider = self.setProvider; // eslint-disable-line no-shadow\n\n    self.setProvider = function () {\n      setProvider.apply(self, arguments);\n      core.packageInit(_this, [self]);\n    };\n\n    this.setWallet(self.wallet);\n  };\n\n  Contract.create = function () {\n    // With `caver.contract`, `caver.wallet` must be set in the `contarct._wallet`,\n    // so the Contract constructor defined above must be called here.\n    return new Contract(...arguments);\n  };\n\n  Contract.setProvider = function () {\n    BaseContract.setProvider.apply(this, arguments);\n  };\n\n  Contract.prototype = Object.create(BaseContract.prototype);\n  Contract.prototype.constructor = Contract;\n  this.contract = Contract;\n  this.contract._requestManager = this._requestManager;\n  this.contract.currentProvider = this._requestManager.provider;\n}\n\nCaver.utils = utils;\nCaver.abi = abi;\nCaver.providers = providers;\nmodule.exports = Caver;\nmodule.exports.formatters = formatters;","map":{"version":3,"sources":["/Users/mac/Desktop/klay-market/node_modules/caver-js/index.js"],"names":["global","rootRequire","name","require","__dirname","packageInit","providers","Klay","Account","KeyringContainer","Keyring","Transaction","RPC","abi","BaseContract","KCT","core","Method","middleware","utils","formatters","helpers","IPFS","version","Caver","provider","net","_this","use","registerMiddleware","bind","account","wallet","keyring","transaction","kct","klay","rpc","ipfs","setProvider","p","n","apply","setRequestManager","_requestManager","contract","currentProvider","_provider","self","Contract","arguments","setWallet","create","prototype","Object","constructor","module","exports"],"mappings":"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","sourcesContent":["/*\n    Modifications copyright 2018 The caver-js Authors\n    This file is part of the web3.js library.\n\n    The web3.js library is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    The web3.js library is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License\n    along with the web3.js. If not, see <http://www.gnu.org/licenses/>.\n\n    This file is derived from web3.js/packages/web3/src/index.js (2019/06/12).\n    Modified and improved for the caver-js development.\n*/\n/**\n * @file index.js\n * @authors:\n *   Fabian Vogelsteller <fabian@ethereum.org>\n *   Gav Wood <gav@parity.io>\n *   Jeffrey Wilcke <jeffrey.wilcke@ethereum.org>\n *   Marek Kotewicz <marek@parity.io>\n *   Marian Oancea <marian@ethereum.org>\n * @date 2017\n */\n\nglobal.rootRequire = name => require(`${__dirname}/packages/${name}/src/index.js`)\n\nconst { packageInit, providers } = require('./packages/caver-core')\nconst Klay = require('./packages/caver-klay')\nconst Account = require('./packages/caver-account')\nconst KeyringContainer = require('./packages/caver-wallet')\nconst Keyring = require('./packages/caver-wallet/src/keyring/keyringFactory')\nconst Transaction = require('./packages/caver-transaction')\nconst RPC = require('./packages/caver-rpc')\nconst abi = require('./packages/caver-abi')\nconst BaseContract = require('./packages/caver-contract')\nconst KCT = require('./packages/caver-kct')\n\nconst core = require('./packages/caver-core')\nconst Method = require('./packages/caver-core-method')\nconst middleware = require('./packages/caver-middleware')\nconst utils = require('./packages/caver-utils')\nconst formatters = require('./packages/caver-core-helpers').formatters\nconst helpers = require('./packages/caver-core-helpers')\n\nconst IPFS = require('./packages/caver-ipfs')\n\nconst { version } = require('./package.json')\n\nfunction Caver(provider, net) {\n    const _this = this\n\n    this.use = middleware.registerMiddleware.bind(middleware)\n    // sets _requestmanager etc\n    packageInit(this, [provider, net])\n\n    this.version = version\n    this.utils = utils\n    this.abi = abi\n    this.formatters = formatters\n    this.helpers = helpers\n    this.Method = Method\n\n    this.account = Account\n    this.wallet = new KeyringContainer()\n    this.wallet.keyring = Keyring\n\n    this.transaction = Transaction\n\n    // ex) call `caver.klay.property` || `caver.klay.method(...)`\n    this.kct = new KCT(this)\n    this.klay = new Klay(this)\n    this.rpc = new RPC(this)\n    this.middleware = middleware\n\n    this.ipfs = new IPFS()\n\n    // overwrite package setProvider\n    const setProvider = this.setProvider\n    this.setProvider = (p, n) => {\n        setProvider.apply(this, [p, n])\n        _this.klay.setRequestManager(_this._requestManager)\n        _this.rpc.setRequestManager(_this._requestManager)\n        _this.kct.setRequestManager(_this._requestManager)\n        _this.contract._requestManager = _this._requestManager\n        _this.contract.currentProvider = _this._provider\n        return true\n    }\n\n    const self = this\n    const Contract = function Contract() {\n        BaseContract.apply(this, arguments)\n\n        // when caver.setProvider is called, call 'packageInit' all contract instances instantiated via this Caver instances.\n        // This will update the currentProvider for the contract instances\n        const _this = this // eslint-disable-line no-shadow\n        const setProvider = self.setProvider // eslint-disable-line no-shadow\n        self.setProvider = function() {\n            setProvider.apply(self, arguments)\n            core.packageInit(_this, [self])\n        }\n        this.setWallet(self.wallet)\n    }\n\n    Contract.create = function() {\n        // With `caver.contract`, `caver.wallet` must be set in the `contarct._wallet`,\n        // so the Contract constructor defined above must be called here.\n        return new Contract(...arguments)\n    }\n\n    Contract.setProvider = function() {\n        BaseContract.setProvider.apply(this, arguments)\n    }\n\n    Contract.prototype = Object.create(BaseContract.prototype)\n    Contract.prototype.constructor = Contract\n\n    this.contract = Contract\n    this.contract._requestManager = this._requestManager\n    this.contract.currentProvider = this._requestManager.provider\n}\n\nCaver.utils = utils\nCaver.abi = abi\nCaver.providers = providers\n\nmodule.exports = Caver\nmodule.exports.formatters = formatters\n"]},"metadata":{},"sourceType":"script"}