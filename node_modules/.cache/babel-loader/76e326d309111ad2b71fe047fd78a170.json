{"ast":null,"code":"/*\n    Copyright 2018 The caver-js Authors\n    This file is part of the caver-js library.\n\n    The caver-js library is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    The caver-js library is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License\n    along with the caver-js. If not, see <http://www.gnu.org/licenses/>.\n*/\nconst rpcFilter = (filterColl, filterOption = 'include') => {\n  if (!Array.isArray(filterColl)) {\n    throw Error('rpcFilter only takes an array for first argument');\n  } // For filterColl indexing. (Since Array traversing is slower than Object)\n\n\n  filterColl = filterColl.reduce((acc, cur) => {\n    acc[cur] = cur;\n    return acc;\n  }, {});\n  return (data, next) => {\n    if (filterOption === 'include') {\n      if (!filterColl[data.method]) return;\n      next(data);\n    } else if (filterOption === 'exclude') {\n      if (!filterColl[data.method]) next(data);\n    }\n  };\n};\n\nmodule.exports = rpcFilter;","map":{"version":3,"sources":["/Users/mac/Desktop/klay-market/node_modules/caver-js/packages/caver-middleware/src/builtins/rpcFilter.js"],"names":["rpcFilter","filterColl","filterOption","Array","isArray","Error","reduce","acc","cur","data","next","method","module","exports"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,MAAMA,SAAS,GAAG,CAACC,UAAD,EAAaC,YAAY,GAAG,SAA5B,KAA0C;AACxD,MAAI,CAACC,KAAK,CAACC,OAAN,CAAcH,UAAd,CAAL,EAAgC;AAC5B,UAAMI,KAAK,CAAC,kDAAD,CAAX;AACH,GAHuD,CAKxD;;;AACAJ,EAAAA,UAAU,GAAGA,UAAU,CAACK,MAAX,CAAkB,CAACC,GAAD,EAAMC,GAAN,KAAc;AACzCD,IAAAA,GAAG,CAACC,GAAD,CAAH,GAAWA,GAAX;AACA,WAAOD,GAAP;AACH,GAHY,EAGV,EAHU,CAAb;AAKA,SAAO,CAACE,IAAD,EAAOC,IAAP,KAAgB;AACnB,QAAIR,YAAY,KAAK,SAArB,EAAgC;AAC5B,UAAI,CAACD,UAAU,CAACQ,IAAI,CAACE,MAAN,CAAf,EAA8B;AAC9BD,MAAAA,IAAI,CAACD,IAAD,CAAJ;AACH,KAHD,MAGO,IAAIP,YAAY,KAAK,SAArB,EAAgC;AACnC,UAAI,CAACD,UAAU,CAACQ,IAAI,CAACE,MAAN,CAAf,EAA8BD,IAAI,CAACD,IAAD,CAAJ;AACjC;AACJ,GAPD;AAQH,CAnBD;;AAqBAG,MAAM,CAACC,OAAP,GAAiBb,SAAjB","sourcesContent":["/*\n    Copyright 2018 The caver-js Authors\n    This file is part of the caver-js library.\n\n    The caver-js library is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    The caver-js library is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License\n    along with the caver-js. If not, see <http://www.gnu.org/licenses/>.\n*/\n\nconst rpcFilter = (filterColl, filterOption = 'include') => {\n    if (!Array.isArray(filterColl)) {\n        throw Error('rpcFilter only takes an array for first argument')\n    }\n\n    // For filterColl indexing. (Since Array traversing is slower than Object)\n    filterColl = filterColl.reduce((acc, cur) => {\n        acc[cur] = cur\n        return acc\n    }, {})\n\n    return (data, next) => {\n        if (filterOption === 'include') {\n            if (!filterColl[data.method]) return\n            next(data)\n        } else if (filterOption === 'exclude') {\n            if (!filterColl[data.method]) next(data)\n        }\n    }\n}\n\nmodule.exports = rpcFilter\n"]},"metadata":{},"sourceType":"script"}