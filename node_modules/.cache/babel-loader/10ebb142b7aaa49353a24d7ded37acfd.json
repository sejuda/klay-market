{"ast":null,"code":"'use strict';\n\nconst configure = require('./lib/configure');\n\nconst {\n  ok,\n  toIterable\n} = require('./lib/fetch');\n\nmodule.exports = configure(({\n  fetch,\n  apiUrl,\n  apiPath,\n  headers\n}) => {\n  const add = require('./add')({\n    fetch,\n    apiUrl,\n    apiPath,\n    headers\n  });\n\n  return (url, options) => async function* () {\n    options = options || {};\n    const res = await ok(fetch(url, {\n      signal: options.signal,\n      headers: options.headers || headers\n    }));\n    const input = {\n      path: decodeURIComponent(new URL(url).pathname.split('/').pop() || ''),\n      content: toIterable(res.body)\n    };\n\n    for await (const file of add(input, options)) {\n      yield file;\n    }\n  }();\n});","map":{"version":3,"sources":["/Users/mac/Desktop/klay-market/node_modules/ipfs-http-client-lite/src/add-from-url.js"],"names":["configure","require","ok","toIterable","module","exports","fetch","apiUrl","apiPath","headers","add","url","options","res","signal","input","path","decodeURIComponent","URL","pathname","split","pop","content","body","file"],"mappings":"AAAA;;AAEA,MAAMA,SAAS,GAAGC,OAAO,CAAC,iBAAD,CAAzB;;AACA,MAAM;AAAEC,EAAAA,EAAF;AAAMC,EAAAA;AAAN,IAAqBF,OAAO,CAAC,aAAD,CAAlC;;AAEAG,MAAM,CAACC,OAAP,GAAiBL,SAAS,CAAC,CAAC;AAAEM,EAAAA,KAAF;AAASC,EAAAA,MAAT;AAAiBC,EAAAA,OAAjB;AAA0BC,EAAAA;AAA1B,CAAD,KAAyC;AAClE,QAAMC,GAAG,GAAGT,OAAO,CAAC,OAAD,CAAP,CAAiB;AAAEK,IAAAA,KAAF;AAASC,IAAAA,MAAT;AAAiBC,IAAAA,OAAjB;AAA0BC,IAAAA;AAA1B,GAAjB,CAAZ;;AAEA,SAAO,CAACE,GAAD,EAAMC,OAAN,KAAmB,mBAAoB;AAC5CA,IAAAA,OAAO,GAAGA,OAAO,IAAI,EAArB;AACA,UAAMC,GAAG,GAAG,MAAMX,EAAE,CAACI,KAAK,CAACK,GAAD,EAAM;AAC9BG,MAAAA,MAAM,EAAEF,OAAO,CAACE,MADc;AAE9BL,MAAAA,OAAO,EAAEG,OAAO,CAACH,OAAR,IAAmBA;AAFE,KAAN,CAAN,CAApB;AAKA,UAAMM,KAAK,GAAG;AACZC,MAAAA,IAAI,EAAEC,kBAAkB,CAAC,IAAIC,GAAJ,CAAQP,GAAR,EAAaQ,QAAb,CAAsBC,KAAtB,CAA4B,GAA5B,EAAiCC,GAAjC,MAA0C,EAA3C,CADZ;AAEZC,MAAAA,OAAO,EAAEnB,UAAU,CAACU,GAAG,CAACU,IAAL;AAFP,KAAd;;AAKA,eAAW,MAAMC,IAAjB,IAAyBd,GAAG,CAACK,KAAD,EAAQH,OAAR,CAA5B,EAA8C;AAC5C,YAAMY,IAAN;AACD;AACF,GAfwB,EAAzB;AAgBD,CAnByB,CAA1B","sourcesContent":["'use strict'\n\nconst configure = require('./lib/configure')\nconst { ok, toIterable } = require('./lib/fetch')\n\nmodule.exports = configure(({ fetch, apiUrl, apiPath, headers }) => {\n  const add = require('./add')({ fetch, apiUrl, apiPath, headers })\n\n  return (url, options) => (async function * () {\n    options = options || {}\n    const res = await ok(fetch(url, {\n      signal: options.signal,\n      headers: options.headers || headers\n    }))\n\n    const input = {\n      path: decodeURIComponent(new URL(url).pathname.split('/').pop() || ''),\n      content: toIterable(res.body)\n    }\n\n    for await (const file of add(input, options)) {\n      yield file\n    }\n  })()\n})\n"]},"metadata":{},"sourceType":"script"}